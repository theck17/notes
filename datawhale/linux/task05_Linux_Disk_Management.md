# Linux磁盘管理

## 什么是磁盘

磁盘是一种计算机的外部存储器设备，由一个或多个覆盖有磁性材料的铝制或玻璃制的碟片组成，用来存储用户的信息，这种信息可以反复地被读取和改写。绝大多数磁盘被永久封存在一个密封的盒子里

1、磁道：磁盘的每个盘面被划分为许多同心圆，这些同心圆的轨道叫做磁道。
2、扇区：一个盘面划分为若干个内角相同的扇形，这样盘面上的每个磁道就被分为若干段圆弧，每段圆弧叫做一个扇区。每个扇区中的数据作为一个单元同时被读入或写入。每一个扇区是512字节，其中有64个字节存储的是分区表，一条分区信息占16个字节。
3、柱面：每一个盘片同一大小的同心圆可以看成连在一起的柱面，磁盘在分区的时候最小单位是柱面，每一个盘片的上下面都可以读取数据，每一个磁头，不可以跨盘面读取数据。

## RAID

磁盘阵列（Redundant Arrays of Independent Disks，RAID）。磁盘阵列是由很多块独立的磁盘，组合成一个容量巨大的磁盘组，利用个别磁盘提供数据所产生加成效果提升整个磁盘系统效能。利用这项技术，将数据切割成许多区段，分别存放在各个硬盘上。

以下是几种RAID模式：

- RAID0

  RAID0将数据分散在n个磁盘中，以独立的方式并行读取n个磁盘的数据，理论上，一个由n块磁盘组成的RAID0是单个磁盘性能的n倍。

- RAID1

  将数据分别写到两组磁盘中，分别为工作磁盘和镜像磁盘，相当于做了一次冗余，安全性高，但是成本也高。

- RAID10

  RAID10兼备了RAID1和RAID0的有优点。首先基于RAID1模式将磁盘分为2份，当要写入数据的时候，将所有的数据在两份磁盘上同时写入，相当于写了双份数据，起到了数据保障的作用。且在每一份磁盘上又会基于RAID0技术讲数据分为N份并发的读写，这样也保障了数据的效率。

## LVM

Linux LVM是由Heinz Mauelshagen开发的，于1998年发布到了Linux社区。它允许你在Linux 上用简单的命令行命令管理一个完整的逻辑卷管理环境。

Linux LVM有两个可用的版本。

* LVM1:最初的LVM包于1998年发布，只能用于Linux内核2.4版本 。它仅提供了基本的逻

辑卷管理功能。

* LVM2:LVM的更新版本，可用于Linux内核2.6版本。它在标准的LVM1功能外提供了额

外的功能。 大部分采用2.6或更高内核版本的现代Linux发行版都提供对LVM2的支持。除了标准的逻辑卷管理功能外，LVM2还提供了另外一些好用的功能。 

## 磁盘分区

```linux
查看当前磁盘的一个分区状况
fdisk -l
fdisk [选项] <磁盘>  #更改分区表
fdisk [选项] -l [<磁盘>] #列出分区表

让硬盘进入分区模式
fdisk /dev/sda

将分区信息读到内核中
partprobe	

将 /dev下的 sda5 磁盘格式化为 ext2 的格式类型
mkfs.ext2 /dev/sda5	

将 /dev/sda5 挂载到 test 中
mount /dev/sda5/test	

卸载已经挂载的 /dev/sda5 磁盘也就是作为挂载接口的test目录
umount /dev/sda5或者umount /test	

查看磁盘的信息（推荐）
df -h	

查看对应分区的UUID（编号）
blkid
```

## 格式化常用命令

用法：

```
 mkfs [选项] [-t <类型>] [文件系统选项] <设备> [<大小>]
```

创建一个Linux 文件系统。

| 选项 | 功能                                |
| ---- | ----------------------------------- |
| -t   | 文件系统类型；若不指定，将使用 ext2 |
| -V   | 解释正在进行的操作；                |
| -h   | 帮助文档                            |
| -v   | 展示版本信息                        |

## 挂载

查看当前磁盘的详细挂载信息 mount命令

用法：

```
 mount [-lhV]
 mount -a [选项]
 mount [选项] [--source] <源> | [--target] <目录>
 mount [选项] <源> <目录>
 mount <操作> <挂载点> [<目标>]
```

因选项过多，这里不做详解，可以在命令行输入 mouunt -h 获







————————————————
参考：(Slash Young CSDN)[https://blog.csdn.net/a1766855068/article/details/84942745]

