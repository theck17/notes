---
title: '计算机网络体系结构'
date: 2020-05-03 23:54:34
tags: [computer network]
published: true
hideInList: false
feature: /post-images/ji-suan-ji-wang-luo-ti-xi-jie-gou.jpg
isTop: false
---
[TOC]

# 计算机网络体系结构

## 计算机网络概述

### 概念

1.   广义观点

    此观点认为，只要是能实现远程信息处理的系统或进一步能达到资源共享的系统，都是讣算 机网络。广义的观点定义了一个计算机通信网络，它在物理结构上具有计算机网络的雏形，但资 源共享能力弱，是计算机网络发展的低级阶段。

2. 资源共享观点

    此观点认为，计算机网络是“以能够相互共享资源的方式互联起来的自治计算机系统的集合”。 该定义包含三层含义：①目的：资源共享：②组成单元：分布在不同地理位置的多台独立的“自 治计算机”；③网络中的计算机必须遵循的统一规则——网络协议。该定义符合目前计算机网络 的基本特征。

3. 用户透明性观点

    此观点认为，存在着一个能为用户自动管理资源的网络操作系统，它能够调用用户所需要的 资源，而整个网络就像一个大的计算机系统一样对用户是透明的。用户使用网络就像使用一台单 一的超级计算机一样，无需了解网络的存在、资源的位置信息。用户透明性观点的定义描述了一 个分布式系统，它是网络未来发展追求的目标。

### 组成

* 从组成部分上看，一个完整的计算机网络主要由硬件、软件、协议三大组成部分
* 从工作方式上看，计算机网络（这里主要指Internet）可分为边缘部分和核心部分
* 从功能组成上看，计算机网络由通信子网和资源子网组成

### 功能

* 数据通信
* 资源共享
* 分布式处理
* 提高可靠性
* 负载均衡

### 分类

* 按分布范围分类：广域网（WAN）、城域网（MAN）局域网（LAN）、个人区域网（PAN）
* 按传输技术分类：广播式网络、点对点网络
* 按拓扑结构分类：星形、总线形、环形和网状形网络
    * 星形、总线形和环形网 络多用于局域网，网状形网络多用于广域网
* 按使用者分类：专用网络、公用网络
* 按交换技术分类：电路交换网络、报文交换网络、分组交换网络
* 按传输介质分类：有线和无线

### 标准化工作及相关组织

因特网的所有标准都以RFC （Request For Comments）的形式在因特网上发布。但并非每个 RFC都是因特网标准，RFC要上升为因特网正式标准需经过以下四个阶段：

1） 因特网草案（Internet Draft）这个阶段还不是RFC文档。

2） 建议标准（Proposed Standard）从这个阶段开始就成为RFC文档.

3） 草案标准（Draft Standard）。

4） 因特网标准（Internet Standard）。

在国际上，有众多的标准化组织负贵制定、实施相关网络标准。主要有以下几种：

* 国际标准化组织（ISO）:制定的主要网络标准或规范有OSI参考模型、HDLC等。

* 国际电信联盟（ITU）:其前身为国际电话电报咨询委员会（CCITT）,其下属机构ITU-T制 定了大量有关远程通信的标准。

* 国际电气电子工程师协会（IEEE）:世界上最火的专业技术团体，由计算机和工程学专业人 士组成。IEEE在通信领域最著名的研宂成果是802标准

### 计算机网络性能指标

性能指标从不同的方面度量计算机网络的性能。

1） 带宽（Bandwidth）本来表示通信线路允许通过的信号频带范围，单位是赫兹（Hz）。而 在计算机网络中，带宽表示网络的通信线路所能传送数据的能力，是数字信道所能传送的“最高 数据率”的同义语，单位是“比特每秒”（b/s）。

2） 时延（Delay）是指数据（一个报文或分组）从M络（或链路）的一端传送到另一端所需 要的总的时间，它由四个部分构成：发送时延、传播时延、处理时延和排队时延，

* 发送时延：结点将分组的所有比特推向（传输）链路所需的时间，也就是从发送分组的
     第一个比特算起，到该分组的最后一个比特发送完毕所需的时间，因此也称为传输时延
    * 发送时延=分组长度/信道宽度（带宽）
* 传播时延：电磁波在信道中传播一定的距离需要花费的时间，也就是一个比特从链路一 端到另一端传播所需的时间。计算公式如下：
    * 传播时延=信道长度/电磁波在信道上的传播速率 
* 处理时延：数据在交换结点为存储转发而进行的一些必要的处理所花费的时间。例如， 分析分组的首部、从分组中提取数据部分、进行差错检验或查找适当的路由等。
* 排队时延：分组在进入路由器后要先在输入队列中排队等待处理。在路由器确定了转发 端U后，还要在输出队列中排队等待转发。这就产生了排队时延。
* **总时延**=发送时延+传播时延+处理时延+排队时延 
* 注意：一般情况，排队时延和处理时延都忽略不计（除非题目另有说明）。另外，对于 高速链路，提高的仅是数据发送速率而不是比特在链路上的传播速度提高数据的发送速率只是 为了减少数据的发送时延。

3）时延带宽积：若发送端连续发送数据，在发送的第一个比特即将到达终点时，表示发送 端己经发出的比特数。又称为以比特为单位的链路长度

* 时延带宽积=传播时延x信道带宽。

4） 往返时延（Round-TripTime, RTT）：表示从发送端发送数据开始，到发送端收到来自接 收端的确认（接收端收到数据后立即发送确认），总共经历的时延。在互联网中，往返时延还包 括各中间结点的处理时延、排队时延以及转发数据时的发送时延。

5） 吞吐量（Throughput）:表示在单位时间内通过某个网络（或信道、接口）的数据量。吞 吐量受网络的带宽或网络的额定速率的限制。

6） 速率（Speed）：网络中的速率是指连接在计算机网络上的主机在数字信道上传送数据的 速率，也称为数据率或比特率，单位是b/s （比特每秒）（或bit/s,有时也写为bps）。当数据率较 高时，就可以用Kb/s （K=103）、Mb/s （M=106）或Gb/s （G=109）。在计算机网络中，通常把最高 数据率称为“带宽”。

7）利用率

* 信道利用率=有数据通过的时间/（有+无）数据通过的时间
* 网络利用率=信道利用率加权平均值

## 计算机网络体系结构与参考模型

### 计算机网络分层结构

分层的基本原则是：

1） 每一层都实现一种相对独立的功能，降低大系统的复杂度。

2） 各层之间界面自然清晰，易于理解.相互交流尽可能少.

3） 各层功能的精确定义独立于具体的实现方法，可以采用最合适的技术来实现。

4） 保持下层对上层的独立性，上层单向使用下层提供的服务。

5） 整个分层结构应能促进标准化工作。

在计算机网络体系结构的各个层次中，每一个报文都分为两个部分，一个是数据部分，也就 是SDU，另外一部分是控制信息部分，也就是PCI,它们共同组成PDU。

* 服务数据单元（SDU）：为完成用户所要求的功能而应传送的数据。第n层的服务数据单元记为n-SDU

* 协议控制信息（PCI）：控制协议操作的信息。第n层的协议控制信息记为n-PCI

* 协议数据单元（PDU）:对等层次之间传送的数据单位称为该层的PDU。第n层的协议数据 单元记为n-PDU。在实际的网络中，每层的协议数据单元都有一个通俗的名称，如物理层的PDU 叫比特，链路层的PDU叫帧，网络层的PDU叫分组，传输层的PDU叫报文

### 网络协议、接口、服务的概念

* 协议：就是规则的集合，协议由语法、语义和同步三部分组成。语法规定了传输数据的格式；语义规定了所要完成的 功能，即需要发出何种控制信息、完成何种动作以及做出何种应答：同步规定了执行各种操作的 条件、时序关系等，即事件实现顺序的详细说明。一个完整的协议通常应具有线路管理（建立、 释放连接）、差错控制、数据转换等功能
* 接口：是同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定
* 服务：是指下层为紧想部的上层提供的功能调用，也就是垂直的。对等实体在协议的控制下， 使得本层能为上一层提供服务，但要实现本层协议还需要使用下一层所提供的服务

​	上层使用下层所提供的服务必须通过与下层交换一些命令，这些命令在OSI中称为服务原语。 OSI将原语划分为四类：

1） 请求（Request〉：由服务用户发往服务提供者，请求完成某项工作。

2） 指示（Indication）:由服务提供者发往服务用户，指示用户做某件事。

3） 响应（Response）：由服务用户发往服务提供者，作为对指示的响应。

4） 证实（Conformation）:由服务提供者发往服务用户，作为对请求的证实。

这四类原语用于不同的功能，如建立连接、传输数据和断开连接等。有应答服务包括全部四 类原语，而无应答服务则只有请求和指示两个原语。

计算机网络提供的服务可按一下三种方式分类

*  面向连接服务与无连接服务
* 可靠服务和不可靠服务

* 有应答服务和无应答服务

### ISO/OSI模型和TCP/IP模型

#### ISO/OSI模型

国际标准化组织(ISO)提出的网络体系结构模型，称为开放系统互联参考模型(OSI/ RM), 通常简称为OSI参考模型，**应用表示会话层，传网数据物理层**

* 应用层（Application Layer）
    * 文件传输（FTP）、 电子邮件（SMTP）、万维网（HTTP）
* 表示层（Presentation Layer）
    * 数据格式变换
    * 数据加密解密
    * 数据压缩和恢复
* 会话层（Session Layer）
    * 向表示层用户进程提供建立连接并在连接上有序的传输数据
    * 这是会话，也是建立同步（SYN），会话层使用校验点可使通信会话在通信失效时从校验点继续恢复通信，实现数据同步
* 传输层（Transport Layer）
    * 主要协议：TCP、UDP
    * 可靠传输、不可靠传输
    * 差错控制
    * 流量控制
    * 复用分用：复用就是多个应用层进程可同时使用下面运输层的服务，分用 则是运输层把收到的信息分别交付给上面应用层中相应的进程
* 网络层（Network Layer）
    * 主要协议：IP、IPX、ICMP, IGMP, ARP, RARP 和OSPF
    * 路由选择
    * 流量控制
    * 差错控制
    * 拥塞控制
* 数据链路层（Data Link Layer）
    * 主要协议：SDLC、HDLC、PPP、STP和帧中继
    * 成帧：定义帧的开始和结束
    * 差错控制：帧错+位错
    * 流量控制
    * 访问（接入）控制：控制对信道的访问
* 物理层（Physical Layer）
    * 主要协议：Rj45、802.3
    * 在物理媒体上实现比特流的透明传输，物理层的单位是比特
    * 定义接口特性
    * 定义传输模式：单工、半双工、双工
    * 定义传输速率
    * 比特同步
    * 比特编码

#### TCP/IP模型

* 应用层：HTTP、FTP、DNS
* 传输层：TCP、UDP
* 网际层：IP
* 网络接口层

#### OSI模型、TCP/IP比较

* 相同点
    * 首先，二者都采取分层的体系结构，将庞大且复杂的问题划分为若干个较容易处理的、范围 较小的问题，而且分层的功能也大体相似。
    * 其次，二者都是基于独立的协议栈的概念。
    * 再次，二者都可以解决异构网络的互联，实现世界上不同厂家生产的计算机之间的通信
* 不同点
    * OSI参考模型的最大贡献就是精确地定义了三个主要概念：服务、协议和接口，TCP/IP模型在这三个概念上却没有明确区分
    * OSI参考模型产生在协议发明之前，没有偏向于任何特定的协议，通用性良好。但设 计者在协议方面没有太多经验，不知道把哪些功能放到哪一层更好。TCP/IP模型正好相反。
    * TCP/IP模型在设计之初就考虑到多种异构网的互联问题，并将网际协议IP作为一个 单独的重要层次。OSI参考模型最初只考虑到用一种标准的公用数据网将各种不同的系统互联。 后来，OSI参考模型认识到网际协议IP的重要性，因此只好在网络层中划分出一个子层来完成类 似于TCP/IP模型中IP的功能。
    * OSI参考模型在网络层支持无连接和面向连接的通信，但在传输层仅有面向连接的通 信。而TCP/IP模型认为可靠性是端到端的问题，因此它在网际层仅有一种无连接的通信模式， 但在传输层支持无连接和面向连接两种模式

## 